<ion-content class="create-publication" >
  <form id="form" [formGroup]="postForm" (ngSubmit)="onSubmit($event)">
    <ion-item class="create-publication__header">
      <ion-label class="create-publication__label">{{ edit ? 'Edit a post' : 'Create a post' }}</ion-label>
      <ion-button id="close" class="create-publication__close ion-no-padding" fill="clear" color="medium" shape="round" (click)="onClose($event)">
        <ion-icon class="create-publication__x-close" name="close-outline" ></ion-icon>
      </ion-button>
    </ion-item>
    <ion-content scroll-y="false" class="create-publication__content">
      <div class="create-publication__grid">
        <div class="create-publication__avatar-g">
          <ion-avatar>
            <img *ngIf="user.avatar; else avatarIco" alt="Silhouette of a person's head" src="{{ user.avatar | url }}" />
            <ng-template #avatarIco>
              <ion-icon  class="create-publication__ico" name="person-outline"></ion-icon>
            </ng-template>
          </ion-avatar>
        </div>
        <div class="create-publication__name-g">
          <ion-title class="ion-no-padding create-publication__title">{{ user.firstName }} {{user.lastName}}</ion-title>
        </div>
        <div class="create-publication__anyone-g">
          <ion-chip class="ion-no-margin" [outline]="true">
            <ion-icon name="earth"></ion-icon>
            Anyone
            <ion-icon name="caret-down"></ion-icon>
          </ion-chip>
        </div>
      </div>
      <div class="create-publication__textarea-area">
        <ion-textarea
          placeholder="What do you want to talk about?"
          rows="6"
          auto-grow="true"
          formControlName="body"
        >
        </ion-textarea>
      </div>
    </ion-content>
    <ion-footer class="ion-no-border" collapse="fade">
      <div class="create-publication__footer">
        <div class="create-publication__shape_btn">
          <ion-fab-button (click)="onImg($event)" class="create-publication__fab create-publication__fa--warningb" color="light">
            <ion-icon *ngIf="!img" name="image"></ion-icon>
            <app-file-reader
              class="create-publication__file-reader"
              *ngIf="!!img"
              [img]="img"
              [alt]="'picture'"
              [class]="''"
            >
            </app-file-reader>
            <input type="file" name="img" class="create-publication__input-img" #inputImg (change)="onChangeImg($event)" />
          </ion-fab-button>
          <ion-fab-button class="create-publication__fab" color="light">
            <ion-icon name="logo-youtube"></ion-icon>
          </ion-fab-button>
          <ion-fab-button class="create-publication__fab" color="light">
            <ion-icon name="document-text"></ion-icon>
          </ion-fab-button>
          <ion-fab-button class="create-publication__fab" color="light">
            <ion-icon name="briefcase"></ion-icon>
          </ion-fab-button>
          <ion-fab-button class="create-publication__fab" color="light">
            <ion-icon name="contract"></ion-icon>
          </ion-fab-button>
          <ion-fab-button class="create-publication__fab" color="light">
            <ion-icon name="git-pull-request"></ion-icon>
          </ion-fab-button>
        </div>
        <div class="create-publication__post_shape">
          <ion-button [disabled]="!postForm.valid" type="submit" shape="round">{{ edit ? 'Edit' : 'Post'}}</ion-button>
        </div>
      </div>
    </ion-footer>
  </form>
</ion-content>
